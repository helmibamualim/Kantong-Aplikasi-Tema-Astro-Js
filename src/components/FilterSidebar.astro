---
---

<!-- Mobile Filter Toggle Button -->
<button id="mobile-filter-toggle" class="lg:hidden fixed bottom-4 right-4 z-40 flex items-center gap-2 px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-full shadow-2xl font-bold text-sm transition-all duration-300 hover:scale-105 active:scale-95">
  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z" />
  </svg>
  <span>Filters</span>
</button>

<!-- Mobile Filter Overlay -->
<div id="mobile-filter-overlay" class="lg:hidden hidden fixed inset-0 bg-black/50 z-50">
  <div class="bg-white dark:bg-dark-900 w-full max-w-sm h-full ml-auto overflow-y-auto">
    <div class="sticky top-0 bg-white dark:bg-dark-900 border-b border-gray-200 dark:border-dark-700 p-4 flex items-center justify-between z-10">
      <h2 class="font-bold text-lg">Filters</h2>
      <button id="mobile-filter-close" class="p-2 hover:bg-gray-100 dark:hover:bg-dark-800 rounded-lg transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>
    <div class="p-4 space-y-6" id="mobile-filter-content">
      <!-- Filter content will be cloned here -->
    </div>
    <div class="sticky bottom-0 bg-white dark:bg-dark-900 border-t border-gray-200 dark:border-dark-700 p-4 flex gap-3">
      <button id="mobile-filter-clear" class="flex-1 py-3 bg-gray-200 dark:bg-dark-700 hover:bg-gray-300 dark:hover:bg-dark-600 rounded-xl font-semibold transition-colors text-sm">
        Clear All
      </button>
      <button id="mobile-filter-apply" class="flex-1 py-3 bg-primary-600 hover:bg-primary-700 text-white rounded-xl font-semibold transition-colors text-sm">
        Apply Filters
      </button>
    </div>
  </div>
</div>

<!-- Desktop Sidebar - Touch-Friendly Inputs -->
<aside class="w-full lg:w-64 space-y-6 animate-on-scroll hidden lg:block" id="desktop-filters">
  <!-- Price Range - Touch-Friendly -->
  <div class="bg-white dark:bg-dark-800 rounded-xl p-5 sm:p-6 border border-gray-200 dark:border-dark-700">
    <h3 class="font-bold text-base sm:text-lg mb-4">Price Range</h3>
    <div class="space-y-4">
      <input
        type="range"
        min="0"
        max="10000"
        value="5000"
        class="w-full h-2 accent-primary-600 cursor-pointer"
        id="price-range"
      />
      <div class="flex justify-between text-xs sm:text-sm">
        <span>$0</span>
        <span id="price-value" class="font-semibold text-primary-600">$5,000</span>
        <span>$10,000</span>
      </div>
    </div>
  </div>

  <!-- Categories - Touch-Friendly -->
  <div class="bg-white dark:bg-dark-800 rounded-xl p-5 sm:p-6 border border-gray-200 dark:border-dark-700">
    <h3 class="font-bold text-base sm:text-lg mb-4">Categories</h3>
    <div class="space-y-3">
      {['Cement & Concrete', 'Steel & Metal', 'Lumber & Wood', 'Tools & Equipment', 'Electrical', 'Plumbing', 'Paint & Finishes', 'Roofing'].map(category => (
        <label class="flex items-center gap-3 cursor-pointer group py-1">
          <input type="checkbox" class="w-5 h-5 accent-primary-600 rounded cursor-pointer" />
          <span class="text-sm group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">{category}</span>
        </label>
      ))}
    </div>
  </div>

  <!-- Brands - Touch-Friendly -->
  <div class="bg-white dark:bg-dark-800 rounded-xl p-5 sm:p-6 border border-gray-200 dark:border-dark-700">
    <h3 class="font-bold text-base sm:text-lg mb-4">Brands</h3>
    <div class="space-y-3">
      {['BuildPro', 'ConstructMax', 'SteelCraft', 'WoodMaster', 'ElectroTech', 'PlumbPro'].map(brand => (
        <label class="flex items-center gap-3 cursor-pointer group py-1">
          <input type="checkbox" class="w-5 h-5 accent-primary-600 rounded cursor-pointer" />
          <span class="text-sm group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">{brand}</span>
        </label>
      ))}
    </div>
  </div>

  <!-- Rating - Touch-Friendly -->
  <div class="bg-white dark:bg-dark-800 rounded-xl p-5 sm:p-6 border border-gray-200 dark:border-dark-700">
    <h3 class="font-bold text-base sm:text-lg mb-4">Rating</h3>
    <div class="space-y-3">
      {[5, 4, 3, 2, 1].map(rating => (
        <label class="flex items-center gap-3 cursor-pointer group py-1">
          <input type="checkbox" class="w-5 h-5 accent-primary-600 rounded cursor-pointer" />
          <div class="flex items-center gap-1">
            {Array.from({ length: rating }).map(() => (
              <svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20">
                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
              </svg>
            ))}
            <span class="text-sm ml-1">& Up</span>
          </div>
        </label>
      ))}
    </div>
  </div>

  <!-- Availability - Touch-Friendly -->
  <div class="bg-white dark:bg-dark-800 rounded-xl p-5 sm:p-6 border border-gray-200 dark:border-dark-700">
    <h3 class="font-bold text-base sm:text-lg mb-4">Availability</h3>
    <div class="space-y-3">
      <label class="flex items-center gap-3 cursor-pointer group py-1">
        <input type="checkbox" class="w-5 h-5 accent-primary-600 rounded cursor-pointer" />
        <span class="text-sm group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">In Stock</span>
      </label>
      <label class="flex items-center gap-3 cursor-pointer group py-1">
        <input type="checkbox" class="w-5 h-5 accent-primary-600 rounded cursor-pointer" />
        <span class="text-sm group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors">On Sale</span>
      </label>
    </div>
  </div>

  <!-- Clear Filters - Touch-Friendly -->
  <button class="w-full py-3 sm:py-3.5 bg-gray-200 dark:bg-dark-700 hover:bg-gray-300 dark:hover:bg-dark-600 rounded-xl font-semibold transition-colors duration-300 text-sm sm:text-base active:scale-95">
    Clear All Filters
  </button>
</aside>

<script>
  const priceRange = document.getElementById('price-range') as HTMLInputElement;
  const priceValue = document.getElementById('price-value');
  
  priceRange?.addEventListener('input', (e) => {
    const value = (e.target as HTMLInputElement).value;
    if (priceValue) {
      priceValue.textContent = `$${parseInt(value).toLocaleString()}`;
    }
  });
</script>


<script>
  // Price Range
  const priceRange = document.getElementById('price-range') as HTMLInputElement;
  const priceValue = document.getElementById('price-value');
  
  priceRange?.addEventListener('input', (e) => {
    const value = (e.target as HTMLInputElement).value;
    if (priceValue) {
      priceValue.textContent = `$${parseInt(value).toLocaleString()}`;
    }
  });

  // Mobile Filter Toggle
  const mobileFilterToggle = document.getElementById('mobile-filter-toggle');
  const mobileFilterOverlay = document.getElementById('mobile-filter-overlay');
  const mobileFilterClose = document.getElementById('mobile-filter-close');
  const mobileFilterApply = document.getElementById('mobile-filter-apply');
  const mobileFilterClear = document.getElementById('mobile-filter-clear');
  const mobileFilterContent = document.getElementById('mobile-filter-content');
  const desktopFilters = document.getElementById('desktop-filters');

  // Clone desktop filters to mobile on first open
  let filtersCloned = false;

  mobileFilterToggle?.addEventListener('click', () => {
    if (!filtersCloned && desktopFilters && mobileFilterContent) {
      mobileFilterContent.innerHTML = desktopFilters.innerHTML;
      filtersCloned = true;
    }
    mobileFilterOverlay?.classList.remove('hidden');
    document.body.style.overflow = 'hidden';
  });

  mobileFilterClose?.addEventListener('click', () => {
    mobileFilterOverlay?.classList.add('hidden');
    document.body.style.overflow = '';
  });

  mobileFilterApply?.addEventListener('click', () => {
    mobileFilterOverlay?.classList.add('hidden');
    document.body.style.overflow = '';
    // Apply filters logic here
  });

  mobileFilterClear?.addEventListener('click', () => {
    // Clear all checkboxes in mobile filter
    const checkboxes = mobileFilterContent?.querySelectorAll('input[type="checkbox"]');
    checkboxes?.forEach((checkbox: any) => {
      checkbox.checked = false;
    });
  });

  mobileFilterOverlay?.addEventListener('click', (e) => {
    if (e.target === mobileFilterOverlay) {
      mobileFilterOverlay.classList.add('hidden');
      document.body.style.overflow = '';
    }
  });
</script>
